/* sentinel_project_root/test/assets/style_web_reports.css */
/* Styles for Sentinel Health Co-Pilot Web Dashboards & Reports (Tiers 2/3) */

/* 
  Define Sentinel Color Variables.
  In a real setup, these would exactly match or be derived from app_config.py.
  These are illustrative placeholders based on common color meanings.
  Replace with your actual hex codes from app_config.py logic if injecting them
  or simply use direct hex codes below if not using CSS variables extensively.
*/
:root {
    /* Risk & Status Colors */
    --sentinel-color-risk-high: #D32F2F;       /* Strong Red for High Risk/Concern/Critical */
    --sentinel-color-risk-moderate: #FBC02D; /* Amber/Yellow for Moderate Risk/Concern/Warning */
    --sentinel-color-risk-low: #388E3C;        /* Green for Low Risk/Acceptable/Good */
    --sentinel-color-risk-neutral: #757575;   /* Grey for Neutral/No Data/Unknown */

    /* Action & Accent Colors */
    --sentinel-color-action-primary: #1976D2;   /* Strong Blue for primary actions, links */
    --sentinel-color-action-secondary: #546E7A; /* Slate Blue/Grey for secondary elements */
    --sentinel-color-accent-bright: #4D7BF3;    /* A brighter blue for specific accents like h1 underline */

    /* Text Colors */
    --sentinel-color-text-dark: #343a40;          /* Main body text */
    --sentinel-color-text-headings-main: #1A2557; /* Dark blue for primary headings */
    --sentinel-color-text-headings-sub: #2C3E50;  /* Slate blue for secondary headings */
    --sentinel-color-text-muted: #6c757d;         /* Lighter grey for captions, details */

    /* Background Colors */
    --sentinel-color-background-page: #f8f9fa;     /* Light grey for overall page */
    --sentinel-color-background-content: #ffffff;  /* White for main content cards, tables */
    --sentinel-color-background-subtle: #e9ecef;   /* Very light grey for hovers or subtle distinctions */

    /* Border Colors */
    --sentinel-color-border-light: #dee2e6;
    --sentinel-color-border-medium: #ced4da;

    /* Delta/Change Indicators */
    --sentinel-color-delta-positive: #27AE60; /* Green */
    --sentinel-color-delta-negative: #C0392B; /* Red */
}

/* ----- Base Styles & Typography ----- */
body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Noto Color Emoji";
    background-color: var(--sentinel-color-background-page);
    color: var(--sentinel-color-text-dark);
    line-height: 1.6; /* Slightly reduced for denser reports if needed, else 1.65 is good */
    font-size: 14px;  /* Slightly smaller base for web reports for information density */
}

.stApp { /* Main Streamlit app container (blocks content) */
    padding: 1rem 1.5rem; /* Default app-wide padding */
}

/* ----- Headings & Titles ----- */
h1, h2, h3, h4, h5, h6 {
    font-weight: 700;
    letter-spacing: -0.015em; /* Slight tightening */
}
h1 { /* Page Titles */
    color: var(--sentinel-color-text-headings-main);
    font-size: 2.1rem;
    border-bottom: 3px solid var(--sentinel-color-accent-bright);
    padding-bottom: 0.6rem;
    margin-bottom: 1.8rem;
}
h2 { /* Major Section Titles */
    color: var(--sentinel-color-text-headings-sub);
    font-size: 1.6rem;
    margin-top: 2.2rem;
    margin-bottom: 1.1rem;
    border-bottom: 1px solid var(--sentinel-color-border-light);
    padding-bottom: 0.35rem;
}
h3 { /* Sub-section Titles / Chart Titles (if not controlled by Plotly) */
    color: var(--sentinel-color-action-primary);
    font-size: 1.3rem;
    margin-top: 1.6rem;
    margin-bottom: 0.8rem;
}
h4 {font-size: 1.1rem; color: var(--sentinel-color-text-headings-sub); margin-bottom: 0.5rem;}
h5 {font-size: 1.0rem; color: var(--sentinel-color-text-dark); font-weight: 600;}
h6 {font-size: 0.9rem; color: var(--sentinel-color-text-muted); font-weight: 500;}


/* ----- KPI Card Styling (for render_web_kpi_card) ----- */
.kpi-card {
    background-color: var(--sentinel-color-background-content);
    border-radius: 8px;
    padding: 1.2rem 1.4rem; /* Slightly adjusted padding */
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
    border-left: 5px solid var(--sentinel-color-risk-neutral); /* Default accent */
    margin-bottom: 1rem;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    height: 100%; /* For consistent height when in st.columns */
    transition: box-shadow 0.2s ease-in-out, transform 0.2s ease-in-out;
}
.kpi-card:hover {
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
    transform: translateY(-2px);
}

/* KPI Card Status Variants - Aligned with Sentinel status_level names */
/* HIGH_RISK maps to a critical/red state */
.kpi-card.status-high-risk, .kpi-card.status-critical { border-left-color: var(--sentinel-color-risk-high); }
.kpi-card.status-high-risk .kpi-icon, .kpi-card.status-critical .kpi-icon { color: var(--sentinel-color-risk-high); }

/* HIGH_CONCERN might also be red if it represents a significant issue */
.kpi-card.status-high-concern { border-left-color: var(--sentinel-color-risk-high); }
.kpi-card.status-high-concern .kpi-icon { color: var(--sentinel-color-risk-high); }

/* MODERATE_RISK/CONCERN map to amber/yellow */
.kpi-card.status-moderate-risk, .kpi-card.status-moderate-concern, .kpi-card.status-warning { border-left-color: var(--sentinel-color-risk-moderate); }
.kpi-card.status-moderate-risk .kpi-icon, .kpi-card.status-moderate-concern .kpi-icon, .kpi-card.status-warning .kpi-icon { color: var(--sentinel-color-risk-moderate); }

/* LOW_RISK, ACCEPTABLE, GOOD_PERFORMANCE map to green */
.kpi-card.status-low-risk, .kpi-card.status-acceptable, .kpi-card.status-good-performance, .kpi-card.status-ok { border-left-color: var(--sentinel-color-risk-low); }
.kpi-card.status-low-risk .kpi-icon, .kpi-card.status-acceptable .kpi-icon, .kpi-card.status-good-performance .kpi-icon, .kpi-card.status-ok .kpi-icon { color: var(--sentinel-color-risk-low); }

/* NEUTRAL and NO_DATA map to grey */
.kpi-card.status-neutral, .kpi-card.status-no-data, .kpi-card.status-unknown { border-left-color: var(--sentinel-color-risk-neutral); }
.kpi-card.status-neutral .kpi-icon, .kpi-card.status-no-data .kpi-icon, .kpi-card.status-unknown .kpi-icon { color: var(--sentinel-color-risk-neutral); }


.kpi-card-header { display: flex; align-items: flex-start; margin-bottom: 0.7rem; }
.kpi-icon {
    font-size: 2.0rem; /* Consistent, clear icon size */
    margin-right: 0.9rem;
    color: var(--sentinel-color-text-headings-sub); /* Default icon color */
    flex-shrink: 0; line-height: 1.1; padding-top: 0.1em;
}
.kpi-title { /* This should be an h5 or strong p for semantics if kpi-card-header has h3 */
    font-size: 0.85rem; color: var(--sentinel-color-text-muted);
    margin-bottom: 0.2rem; font-weight: 600; line-height: 1.3;
    margin-top: 0; text-transform: uppercase; letter-spacing: 0.03em;
}
.kpi-body { text-align: left; margin-top: auto; /* Pushes value down if card header wraps */ }
.kpi-value {
    font-size: 1.9rem; font-weight: 700; color: var(--sentinel-color-text-headings-main);
    margin-bottom: 0.25rem; line-height: 1.15; word-wrap: break-word;
}
.kpi-units {
    font-size: 0.8rem; color: var(--sentinel-color-text-muted); margin-left: 0.3em; font-weight: 500;
}
.kpi-delta { font-size: 0.8rem; font-weight: 600; display: inline-flex; align-items: center; }
.kpi-delta.positive { color: var(--sentinel-color-delta-positive); }
.kpi-delta.positive::before { content: "▲ "; margin-right: 0.2em; }
.kpi-delta.negative { color: var(--sentinel-color-delta-negative); }
.kpi-delta.negative::before { content: "▼ "; margin-right: 0.2em; }
.kpi-delta.neutral { color: var(--sentinel-color-risk-neutral); }


/* ----- Traffic Light Indicator Styling (for render_web_traffic_light_indicator) ----- */
.traffic-light-indicator {
    display: flex; align-items: center; padding: 0.65rem 0.9rem;
    border-radius: 6px; background-color: var(--sentinel-color-background-content);
    margin-bottom: 0.65rem; border: 1px solid var(--sentinel-color-border-light);
    box-shadow: 0 1px 2px rgba(0,0,0,0.03);
}
.traffic-light-dot { width: 0.9rem; height: 0.9rem; border-radius: 50%; margin-right: 0.8rem; flex-shrink: 0; }
/* Dot status colors from CSS variables */
.traffic-light-dot.status-high-risk, .traffic-light-dot.status-high-concern, .traffic-light-dot.status-critical { background-color: var(--sentinel-color-risk-high); }
.traffic-light-dot.status-moderate-risk, .traffic-light-dot.status-moderate-concern, .traffic-light-dot.status-warning { background-color: var(--sentinel-color-risk-moderate); }
.traffic-light-dot.status-low-risk, .traffic-light-dot.status-acceptable, .traffic-light-dot.status-good-performance, .traffic-light-dot.status-ok { background-color: var(--sentinel-color-risk-low); }
.traffic-light-dot.status-neutral, .traffic-light-dot.status-no-data, .traffic-light-dot.status-unknown { background-color: var(--sentinel-color-risk-neutral); }

.traffic-light-message { font-size: 0.88rem; color: var(--sentinel-color-text-dark); font-weight: 500; }
.traffic-light-details { font-size: 0.78rem; color: var(--sentinel-color-text-muted); margin-left: auto; padding-left: 0.75rem; font-style: normal; }

/* ----- Streamlit Component Overrides & Enhancements for Sentinel Web View ----- */
section[data-testid="stSidebar"] {
    background-color: var(--sentinel-color-background-page); /* Sidebar matches page for cleaner look */
    border-right: 1px solid var(--sentinel-color-border-medium);
    padding-top: 0.7rem;
}
section[data-testid="stSidebar"] h1 { /* Sidebar Title if explicitly set, e.g. in app_home */
    font-size: 1.3rem; text-align: center; margin-bottom: 0.8rem;
    padding-bottom: 0.4rem; border-bottom: 1px solid var(--sentinel-color-border-light);
    color: var(--sentinel-color-text-headings-main);
}
section[data-testid="stSidebar"] .stImage > img { margin-bottom: 0.7rem; }
section[data-testid="stSidebar"] .stMarkdown p, section[data-testid="stSidebar"] .stCaption {
    font-size: 0.82rem; color: #566573;
}
section[data-testid="stSidebar"] label { /* Widget labels */
    font-weight: 500; font-size: 0.9rem; color: var(--sentinel-color-text-headings-sub);
}

/* st.metric - Native Streamlit Metric styling */
div[data-testid="stMetric"] {
    background-color: var(--sentinel-color-background-content); border-radius: 6px;
    padding: 0.9rem 1.1rem; box-shadow: 0 2px 5px rgba(0,0,0,0.04);
    border-left: 4px solid var(--sentinel-color-action-primary); margin-bottom: 0.9rem;
}
div[data-testid="stMetric"] > div:first-child { font-size: 0.85rem; color: var(--sentinel-color-text-muted); font-weight: 600; margin-bottom: 0.25rem; }
div[data-testid="stMetricValue"] { font-size: 1.8rem; font-weight: 700; color: var(--sentinel-color-text-headings-main); }
div[data-testid="stMetricDelta"] { font-size: 0.82rem; font-weight: 500; padding-top: 0.2rem; }
div[data-testid="stMetricDelta"] .positive { color: var(--sentinel-color-delta-positive) !important; } 
div[data-testid="stMetricDelta"] .negative { color: var(--sentinel-color-delta-negative) !important; }


/* Expander */
div[data-testid="stExpander"] {
    border: 1px solid var(--sentinel-color-border-light); border-radius: 6px; margin-bottom: 1.1rem;
    box-shadow: 0 1px 3px rgba(0,0,0,0.03); overflow: hidden;
}
div[data-testid="stExpander"] summary {
    font-weight: 600; color: var(--sentinel-color-text-headings-sub);
    padding: 0.8rem 1.1rem; background-color: var(--sentinel-color-background-page);
    border-bottom: 1px solid var(--sentinel-color-border-light); cursor: pointer;
}
div[data-testid="stExpander"] summary:hover { background-color: var(--sentinel-color-background-subtle); }
div[data-testid="stExpander"] > div[data-testid="stExpanderDetails"] { padding: 1.1rem; background-color: var(--sentinel-color-background-content); }

/* Tabs */
div[data-testid="stTabs"] button { /* Tab buttons */
    font-weight: 600; color: var(--sentinel-color-text-muted);
    padding: 0.65rem 1.0rem; border-radius: 5px 5px 0 0;
    border-bottom: 2px solid transparent; margin-right: 1px;
    background-color: var(--sentinel-color-background-subtle); /* Inactive tab bg */
}
div[data-testid="stTabs"] button:hover {
    background-color: #dde1e5; color: var(--sentinel-color-text-headings-main);
    border-bottom-color: var(--sentinel-color-border-medium);
}
div[data-testid="stTabs"] button[aria-selected="true"] {
    color: var(--sentinel-color-action-primary);
    border-bottom: 2px solid var(--sentinel-color-action-primary);
    background-color: var(--sentinel-color-background-content); /* Active tab matches content pane bg */
}
div[data-testid="stTabs"] div[data-testid^="stVerticalBlock"] { /* Tab content pane */
    border: 1px solid var(--sentinel-color-border-light); border-top: none;
    padding: 1.4rem; border-radius: 0 0 6px 6px;
    background-color: var(--sentinel-color-background-content);
}

/* DataFrame Styling (st.dataframe) */
.stDataFrame { border: 1px solid var(--sentinel-color-border-light); border-radius: 5px; font-size: 0.85rem; }
.stDataFrame thead th {
    background-color: var(--sentinel-color-background-page); color: var(--sentinel-color-text-headings-sub);
    font-weight: 600; text-transform: none; /* No uppercase for better readability of longer headers */
    font-size: 0.82rem; letter-spacing: 0.01em; border-bottom: 2px solid var(--sentinel-color-border-medium);
    padding: 0.55rem 0.45rem;
}
.stDataFrame tbody td { padding: 0.45rem 0.45rem; border-bottom: 1px solid var(--sentinel-color-border-light); }
.stDataFrame tbody tr:nth-of-type(odd) { background-color: var(--sentinel-color-background-subtle); } /* very subtle striping */
.stDataFrame tbody tr:hover { background-color: #dde1e5; }


/* General UI Elements */
a { color: var(--sentinel-color-text-link-default); text-decoration: none; font-weight: 500; }
a:hover { text-decoration: underline; color: #1e5d8f; /* Darker blue for link hover */ }
hr { border-top: 1px solid var(--sentinel-color-border-medium); margin: 1.4rem 0; }

.stButton>button {
    border-radius: 4px; padding: 0.4rem 0.8rem; font-weight: 500; font-size: 0.88rem;
    transition: background-color 0.1s ease, transform 0.1s ease;
    /* Assuming primary/secondary button colors are handled by Streamlit theme or more specific classes */
}
/* Primary button if a class is added by st.button(type="primary") or via custom component */
.stButton button.primary, .stButton>button[kind="primary"] { /* Check actual class Streamlit applies */
    background-color: var(--sentinel-color-action-primary);
    color: white;
}
.stButton button.primary:hover, .stButton>button[kind="primary"]:hover {
    background-color: #1659a0; /* Darker blue on hover */
}

div[data-testid="stProgress"] > div { background-color: var(--sentinel-color-action-primary); border-radius: 3px; }

/* Styles for Custom Markdown KPI Boxes (as in Population Dashboard original) */
.custom-markdown-kpi-box {
    background-color: var(--sentinel-color-background-content);
    border-radius: 8px; padding: 1.2rem;
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
    border-left: 5px solid var(--sentinel-color-risk-neutral);
    margin-bottom: 1rem; display: flex; flex-direction: column; height: 100%; text-align: left;
}
.custom-markdown-kpi-box.highlight-red-edge { border-left-color: var(--sentinel-color-risk-high) !important; }
.custom-kpi-label-top-condition {
    font-size: 0.8rem; color: var(--sentinel-color-text-muted); font-weight: 600; margin-bottom: 0.3rem; line-height: 1.25; text-transform: uppercase;
}
.custom-kpi-value-large {
    font-size: 1.7rem; font-weight: 700; color: var(--sentinel-color-text-headings-main);
    line-height: 1.15; margin-bottom: 0.15rem; word-wrap: break-word;
}
.custom-kpi-subtext-small { font-size: 0.78rem; color: var(--sentinel-color-text-muted); margin-top: 0.1rem; }
